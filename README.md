# final-task



https://github.com/user-attachments/assets/cdb83eba-3c3f-4f36-9439-ff55475ff0c7



Тренер 
1.1 Авторизация и главная страница  -  стр 1
1.2 Календарь записей - стр 5
1.3 Моя работа  - стр 7
1.4 Чат - стр 14

Менеджер
2.1 авторизация и главная страница - стр 15
2.2 клиенты - стр 19
2.3 раздел тренировки - стр 21
2.4 запись на тренировку - стр 23
2.5 типы тренировок - стр 28
2.6 чат -стр 28

Директор
3.1 авторизация и главная страница - стр 30
пример отчетов - стр 33

Клиент. Бот - стр 34
Клиент. Приложение - стр 36
Видео работы бота - стр 37



Роли
тренер - пароль (trainer), пункт 1
менеджер - пароль(manager) пункт 2
директор - пароль(admin123), пункт 3
клиент - взаимодействие через бота , пункт 4, 5

Тренер
1.1 При авторизации тренер попадает в модель и видит свой спортивный центр. 

Тренер может перейти на карточку спортивного центра, ему доступен просмотр информации, сотрудников и кортов . Но тренер не может редактировать информацию, добавлять новых сотрудников и корты . Для более понятного отображения должности, в списках сотрудников менеджер отображается зеленым цветом.



При переходе на карточку корта для тренера также запрещено какое-либо редактирование, только просмотр информации. 


1.2 Календарь
В хедере для удобного перемещения по системе для тренера предусмотрены все нужные ему кнопки. При нажатии на кнопку календарь, пользователю откроется страница календаря с виджетом показывающие все записи и свои рабочие дни (рабочие дни отображаются зеленым цветом) . Также в хедере есть дополнительный виджет для быстрого просмотра количества будущих тренировок. 




1.3 Раздел Моя работа 
При нажатии на кнопку Моя работа тренер попадает на свою карточку. 	Здесь он может посмотреть свою информацию, тренер в своей карточке может редактировать всю информацию кроме часовой ставки и количества часов . Часовая ставка по умолчанию равна 1 , а часы рассчитываются автоматически при занесении рабочих дней(часов) в календаре. 

Тренер может расписать себе надбавку за типы тренировок и перейти в дополнительные разделы(Открыть календарь - пункт 1.2; пересчитать часы - при нажатии на эту кнопку у тренера пересчитается его рабочие часы за месяц, рекомендуется нажимать после добавление новых рабочих дней; Массово добавить доступность - кнопка для добавления рабочих дней и часов; Будущие\прошедшие тренировки - кнопка для просмотра списка будущих\прошедших тренировок; Записать к себе - тренер может также записать обратившегося к нему клиента(пункт 1.4) на тренировку, тренировка получит статус черновик и попадет на рассмотрение к менеджеру; Доход - При нажатии на кнопку доход пользователю открывается модальное окно с информацией о собственном доходе за месяц, количество отработанных часов и количество проведенных тренировок.













1.4 Чат 
Клиент может выбрать определенного тренера в телеграм боте и записать к нему. После этого тренеру в раздел Discuss придет сообщение и тренер сможет записать этого клиента к себе на тренировку. 


Менеджер 
2.1 При авторизации менеджер также видит только свой спортивный центр . Вверху ему доступно своя навигационная панель (Клиенты, Моя работа, Тренировки и Настройки) . Также для удобства над кнопкой Тренировки есть виджет (рис 1) он показывает сколько тренировок на рассмотрении т.е. тренировки, которые оформляли тренера. 
	При переходе на карточку спортивного центра менеджер имеет доступ на редактирование, добавление новых кортов, фотографий спортивного центра, просмотра сотрудников и аналитики по ним.
	У менеджера нет доступа на добавление нового спортивного центра, просмотра сотрудников не со своего спортивного центра, получать полную аналитику о спортивном центре.

									рис 1


В разделе сотрудники у менеджера появляется кнопка Доход , нажав на нее он может просмотреть сколько приносит спортивному центру тренер

Менеджер может посмотреть краткую аналитику о своем спортивном центре, а также просмотреть рейтинги (лучший сотрудник, самый частый клиент, рейтинг по типам тренировок)






2.2 Раздел клиенты
Менеджер может просмотреть список всех клиентов, редактировать их баланс(при изменении баланса, клиенту придет сообщение в бота и измениться число баланса в телеграм мини приложении пункт - 5 ).  Также перейдя на карточку клиента, менеджер видит список всех тренировок клиента. 



2.3 Раздел тренировки 
Переходя в раздел тренировки менеджер видит зеленый идентификатор количества тренировок на рассмотрение(пункт 2.1) и всплывающие меню. Тренировки - менеджеру откроется почасовой календарь со всеми записями и информацией о тренировках и записях;  На рассмотрение - при переходе менеджер увидит список всех тренировок, которые добавляли тренера его спортивного центра , менеджеру необходимо перейти в карточку тренировки и нажать на кнопку подтвердить, тем самым поменять статус карточки; Список записей - менеджер увидит список всех тренировок своего спортивного центра и может записать клиента на новую (пункт 2.4) ; Группа - перейдя в этот раздел менеджер создают группы (объединяет клиентов в группу, чтобы упростить запись на тренировку).




Зеленый - тренировка завершена 
Красный - тренировка отменена 
Серый - тренировка находится на рассмотрении или еще не начата 






2.4 Запись на тренировку 
При записи на тренировку менеджер видит только доступные даты (рабочие дни) выбранного тренера и только незанятые часы


В системе есть три типа тренировок (индивидуальная, сплит и группа) . При выборе типа форма записи на каждый тип реагирует по разному. При выборе тип сплит - появляется дополнительный раздел участники, где тренеру необходимо заполнить еще одного клиента на эту же тренировку. При выборе группа, поле клиент меняется на группу и менеджер выбирает уже на тренировку не клиентов, а ранее созданную группу. Минимальное и максимальное значение участников на все типы тренировок подтягивается автоматически с карточки типы тренировок.


Как только достигается максимальное число участников тренировки, то блокируется любая возможность добавить дополнительного участника, пропадает кнопка Add a line 


После успешного заполнения всех данных о тренировке она получает статус подтверждена и появляется таймер, сколько до начала тренировки (все статусы тренировки изменяются автоматически по истечению таймера, чтобы менеджеру не приходилось их менять в ручную. Сначала значение сколько до начала тренировки, потом меняется статус на - в процессе , и таймер показывает сколько до конца тренировки и финальный статус - завершена) . Также всем клиентам(участникам) тренировки отправляется уведомления о тренировке, уведомление на запись и два напоминания (напоминание за сутки и за час) 



2.5 Типы тренировок 
 
При нажатии на кнопку настройки, менеджер видит всплывающее меню. Типы тренировок - создание карточек типов тренировок. Цены на типы тренировок - установка для типов тренировок для своего спортивного центра цены.




2.6 Чат
У менеджера в разделе discuss функции чата такие же как и у тренера, только дополнительно ему приходит сообщения о просьбе пополнить баланс клиенту (отправка сообщении о пополнении). 


Директор 
3.1 При авторизации, директор видит все спортивные центры и может добавлять новые. Все взаимодействие с системой у директора такое же , как и у менеджера, но в навигационной панеле добавляется две новые кнопки . Управление - просмотр всех сотрудников,всех спортивных центров, всех теннисных кортов . Полная аналитика - просмотр аналитики по расходам , доходам, рейтинги, печать отчетов.





















Пример отчета пдф















Для директора нет параметра чата , как например у менеджера и тренера . Это реализовано с идей, что в обязанности директора не входит коммуникация с клиентами. 

Клиент - бот

Клиент взаимодействует с системой через телеграм бота и телеграм мини-приложение. При входе он проходит краткую регистрацию (ввод ФИО ; пересылает свой номер телефона, который привязан к аккаунт телеграм; ввод почты) . После регистрации у пользователя есть боковое меню с кнопками (перезагрузить бота, моё приложение, пополнить баланс) и список всех спортивных центров . Пользователь может перейти на любой спортивный центр , просмотреть фотографии, информацию о часах работы, кортов и какие услуги есть на спортивном центре. После того как клиент выбрал подходящий для него спортивный центр он может записаться(отправить сообщение) либо к менеджеру , либо напрямую выбронному тренеру , пользователь в боте также видит список всех тренеров(их информацию, фото , рабочие часы) выбранного спортивного центра . После того как пользователь запишется менеджеру или тренеру придет сообщение в раздел discuss в odoo. 














На все действия в odoo клиент получает уведомления (на изменения баланса, на запись в группу, на запись на тренировку упоминания за сутки и за 2 часа до тренировки) 


Пользователь также может отправить запрос на пополнение баланса, выбрать подходящую сумму и этот запрос придет менеджеру в сообщения в одо.
Клиент - приложение

У клиента есть возможность перейти в телеграм приложение , где он может просмотреть все будущие и прошедшие тренировки , свою статистику. Информация передается из бота на приложение через http методы. 



Видео работы бота - https://github.com/user-attachments/assets/cdb83eba-3c3f-4f36-9439-ff55475ff0c7
